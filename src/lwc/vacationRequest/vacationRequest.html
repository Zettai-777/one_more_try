<template>

    <lightning-card title="User Details in LWC" icon-name="action:user">
        <template if:true={user}>
            Username : {user.Username}
            Manager : {user.ManagerId}
            Name : {user.Name}
            Email : {user.Email}
            Id : {user.Id}
        </template>
    </lightning-card>


    <lightning-card title="Try to show requests list" icon-name="custom:custom63">
        <div class="slds-m-around_medium">
<!--            <p class="slds-m-bottom_small">-->
<!--                <lightning-button label="Load requests" onclick={handleLoad}></lightning-button>-->
<!--            </p>-->

            {userName}

            <!--     Добавление нового запроса     -->
            <div class="slds-float_left">
                <lightning-input class="slds-p-left_xx-large" type="checkbox" label="View only my"></lightning-input>
            </div>
            <lightning-button
                    variant="brand" label="Add Request"
                    title="Primary action" onclick={openModal}
                    class="slds-m-left_x-small">
            </lightning-button>
            <template if:true={isModalOpen}>

                <section role="dialog" tabindex="-1" aria-modal="true" aria-labelledby="modal-content-id-1"
                         aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open">
                    <div class="slds-modal__container">
                        <header class="slds-modal__header">
                            <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse"
                                    title="Close" onclick={closeModal}>
                                <svg class="slds-button__icon slds-button__icon_large" aria-hidden="true">
                                    <use xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#close"></use>
                                </svg>
                                <span class="slds-assistive-text">Close</span>
                            </button>
                            <h2 id="modal-heading-01" class="slds-modal__title slds-hyphenate">
                                Here you can add new vacation request
                            </h2>
                        </header>
                        <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1">
                            <template if:true={requests}>
                                <lightning-record-edit-form object-api-name="Vacation_Request__c" onerror={handleError}>
                                    <lightning-messages>
                                    </lightning-messages>
                                    <lightning-input-field field-name="RequestType__c">
                                    </lightning-input-field>
                                    <lightning-input-field field-name="StartDate__c">
                                    </lightning-input-field>
                                    <lightning-input-field field-name="EndDate__c">
                                    </lightning-input-field>
<!--                                    <input hidden="hidden" value={manager} onchange={managerCheck}></input>-->
<!--                                    <lightning-input-field field-name="Manager__c" value={manager} onchange={managerCheck}>-->
<!--                                    </lightning-input-field>-->
                                    <lightning-button
                                            class="slds-m-top_small"
                                            type="submit"
                                            label="Create new"
                                            onclick={managerCheck}>
                                    </lightning-button>
                                </lightning-record-edit-form>
                            </template>
                        </div>
                        <footer class="slds-modal__footer">
                            <button class="slds-button slds-button_neutral" onclick={closeModal}>Cancel</button>
                            <button class="slds-button slds-button_brand" onclick={submitDetails}>Save</button>
                        </footer>
                    </div>
                </section>
                <div class="slds-backdrop slds-backdrop_open"></div>
            </template>

            <!--    Отображение имеющихся requests      -->
<!--            <template if:true={requests}>-->
<!--                <lightning-datatable-->
<!--                    key-field="Id"-->
<!--                    data={contact.data}-->
<!--                    columns={columns}>-->
<!--                </lightning-datatable>-->
<!--            </template>-->

            <template if:true={requests}>
                <template for:each={requests} for:item="request">
                    <p key={request.Id}>|{request.Name}__{request.WorkingDays__c}__{request.RequestType__c}__{request.Manager__c}|</p>
                </template>
            </template>
<!--            <template if:true={error}>-->
<!--                <c-error-panel errors={error}></c-error-panel>-->
<!--            </template>-->


            <!--     Проверка возможностей       -->
<!--            <template if:true={_greeting}>-->
<!--                <lightning-input label="Name" value={_greeting} onchange={handleChange}></lightning-input>-->
<!--                <p>Hello, {upperCasedGreeting}!</p>-->
<!--            </template>-->


        </div>
    </lightning-card>
</template>